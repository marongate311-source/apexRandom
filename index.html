<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Apex縛りルーレット</title>
  <style>
    body { font-family: sans-serif; text-align: center; }
    .overlay {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      color: #fff; display: flex;
      align-items: center; justify-content: center;
      flex-direction: column;
    }
    .hidden { display: none; }
    .roulette-box {
      margin: 20px; padding: 15px;
      border: 2px solid #333; border-radius: 10px;
      display: inline-block;
    }
    button {
      margin-top: 10px; padding: 8px 12px;
    }
  </style>
</head>
<body>

<!-- 注意書きオーバーレイ -->
<div id="overlay" class="overlay">
  <h2>注意書き</h2>
  <p>このサイトはApex Legendsの縛りプレイを楽しむための非公式ツールです。</p>
  <label><input type="checkbox" id="skipNotice"> 次回から表示しない</label><br>
  <button onclick="closeOverlay()">× 閉じる</button>
</div>

<h1>Apex縛りルーレット</h1>

<!-- キャラルーレット -->
<div class="roulette-box">
  <h2>キャラ</h2>
  <div id="char-result">???</div>
  <button onclick="roll('char')">ルーレット</button>
  <label>
  <input type="checkbox" id="fixChar"> キャラ固定
  </label>
  <select id="charSelect" disabled></select>
</div>

<!-- 武器1ルーレット -->
<div class="roulette-box">
  <h2>武器①</h2>
  <div id="weapon1-result">???</div>
  <button onclick="roll('weapon1')">ルーレット</button>
</div>

<!-- 武器2ルーレット -->
<div class="roulette-box">
  <h2>武器②</h2>
  <div id="weapon2-result">???</div>
  <button onclick="roll('weapon2')">ルーレット</button>
</div>

<script>
  // データ例
  const characters = ["バンガロール","レイス","ローバ","ブラハ","パスファインダー"];
  const weapons = ["R-301","フラットライン","マスティフ","ボルトSMG","クレーバー(ケアパケ)"];

  // 注意書きオーバーレイ処理
  window.onload = () => {
    if(localStorage.getItem("skipNotice") === "true"){
      document.getElementById("overlay").classList.add("hidden");
    }
  };

  function closeOverlay(){
    if(document.getElementById("skipNotice").checked){
      localStorage.setItem("skipNotice","true");
    }
    document.getElementById("overlay").classList.add("hidden");
  }

  // ルーレット処理
  function roll(type){
    let list;
    if(type === "char") list = characters;
    else list = weapons;

    const result = list[Math.floor(Math.random()*list.length)];
    document.getElementById(type+"-result").innerText = result;
  }

  // キャラリスト（将来はクラスやオブジェクトにしてもOK）
const characters = ["レイス", "ジブラルタル", "ブラッドハウンド", "オクタン"];

// セレクトボックスにoptionを自動追加
const charSelect = document.getElementById("charSelect");
characters.forEach(c => {
  const option = document.createElement("option");
  option.value = c;
  option.textContent = c;
  charSelect.appendChild(option);
});

// 固定化チェックボックス
const fixCharCheckbox = document.getElementById("fixChar");
fixCharCheckbox.addEventListener("change", () => {
  charSelect.disabled = !fixCharCheckbox.checked;
});

</script>

</body>
</html>
